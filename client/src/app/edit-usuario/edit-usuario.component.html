<div class="container-fluid animated fadeIn">

  <div class="col-md-12">
    <div class="row justify-content-center">
      <h1 *ngIf="tipoFisico" class="title">Editando Usuário - {{editUsuario.nm_usuario}}</h1>
      <h1 *ngIf="tipoJuridico" class="title">Editando Usuário - {{editUsuario.nm_razao_social_usuario}}</h1>
    </div>
  </div>

  <mat-card>
    <form *ngIf="tipoFisico" id="usuarioFisico" name="usuarioFisico">

      <div class="row justify-content-center">
        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_usuario" name="nome" type="text" matInput placeholder="Nome" required>
            <mat-error *ngIf="nome.invalid">{{getNomeErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_email_usuario" name="email" type="email" matInput placeholder="Email" required>
            <mat-error *ngIf="email.invalid">{{getEmailErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_cpf_usuario" [textMask]="{mask: cpfMask}" name="cpf" minlength="11" type="text" matInput placeholder="CPF" required>
            <mat-error *ngIf="cpf.invalid">{{getCpfErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <mat-select [(ngModel)]="editUsuario.sexo" name="sexo" placeholder="Sexo" required>
              <mat-option *ngFor="let sexos of sexoArray" [value]="sexos.value">
                {{ sexos.viewValue }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="sexo.invalid">{{getSexoErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_telefone_usuario" [textMask]="{mask: celMask}" name="telefone" type="text" matInput placeholder="Celular" required>
            <mat-error *ngIf="senha.telefone">{{getTelefoneErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_cep_usuario" [textMask]="{mask: cepMask}" name="cep" minlength="8" type="text" matInput placeholder="CEP" required>
            <mat-error *ngIf="cep.invalid">{{getCepErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_estado_usuario" name="estado" type="text" matInput placeholder="Estado" required>
            <mat-error *ngIf="estado.invalid">{{getEstadoErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_cidade_usuario" name="cidade" type="text" matInput placeholder="Cidade" required>
            <mat-error *ngIf="cidade.invalid">{{getCidadeErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_endereco_usuario" name="endereco" type="text" matInput placeholder="Endereço" required>
            <mat-error *ngIf="endereco.invalid">{{getEnderecoErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-4">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_numero_endereco_usuario" [textMask]="{mask: numMask}" name="numero" type="text" matInput placeholder="Número" required>
            <mat-error *ngIf="numero.invalid">{{getNumeroErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-8">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.ds_complemento_endereco_usuario" name="complemento" type="text" matInput placeholder="Complemento">
            <mat-error *ngIf="endereco.invalid">{{getEnderecoErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_senha_usuario" name="senha" type="password" matInput placeholder="Senha" required>
            <mat-error *ngIf="senha.invalid">{{getSenhaErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="button-row row justify-content-center">
        <div class="col-6">
          <button mat-raised-button type="submit" color="primary" form="usuarioFisico" class="w-100" (click)="updateUsuarioFisico('/update')">Confirmar</button>
        </div>
        <div class="col-6">
          <button mat-raised-button color="primary" class="w-100" (click)="goTo('home')">Cancelar</button>
        </div>
      </div>

    </form>



    <form *ngIf="tipoJuridico" id="usuarioJuridico" name="usuarioJuridico">

      <div class="row justify-content-center">
        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_razao_social_usuario" name="razaoSocial" type="text" matInput placeholder="Razão Social" required>
            <mat-error *ngIf="razaoSocial.invalid">{{getRazaoSocialErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_email_usuario" name="email" type="email" matInput placeholder="Email" required>
            <mat-error *ngIf="email.invalid">{{getEmailErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_cnpj_usuario" [textMask]="{mask: cnpjMask}" name="cnpj" minlength="14" type="text" matInput placeholder="CNPJ" required>
            <mat-error *ngIf="cnpj.invalid">{{getCnpjErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_telefone_usuario" [textMask]="{mask: celMask}" name="telefone" type="text" matInput placeholder="Celular"
              required>
              <mat-error *ngIf="telefone.invalid">{{getTelefoneErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_cep_usuario" [textMask]="{mask: cepMask}" name="cep" minlength="8" type="text" matInput placeholder="CEP" required>
            <mat-error *ngIf="cep.invalid">{{getCepErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_estado_usuario" name="estado" type="text" matInput placeholder="Estado" required>
            <mat-error *ngIf="estado.invalid">{{getEstadoErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_cidade_usuario" name="cidade" type="text" matInput placeholder="Cidade" required>
            <mat-error *ngIf="cidade.invalid">{{getCidadeErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.nm_endereco_usuario" name="endereco" type="text" matInput placeholder="Endereço" required>
            <mat-error *ngIf="endereco.invalid">{{getEnderecoErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-4">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_numero_endereco_usuario" [textMask]="{mask: numMask}" name="numero" type="text" matInput placeholder="Número"
              required>
              <mat-error *ngIf="numero.invalid">{{getNumeroErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>

        <div class="col-8">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.ds_complemento_endereco_usuario" name="complemento" type="text" matInput placeholder="Complemento">
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input [(ngModel)]="editUsuario.cd_senha_usuario" name="senha" type="password" matInput placeholder="Senha" required>
            <mat-error *ngIf="senha.invalid">{{getSenhaErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="button-row row justify-content-center">
        <div class="col-6">
          <button mat-raised-button type="submit" color="primary" form="usuarioJuridico" class="w-100" (click)="updateUsuarioJuridico('/update')">Confirmar</button>
        </div>
        <div class="col-6">
          <button mat-raised-button color="primary" class="w-100" (click)="goTo('home')">Cancelar</button>
        </div>
      </div>

    </form>
  </mat-card>
</div>
